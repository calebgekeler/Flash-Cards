{"ast":null,"code":"var _jsxFileName = \"/Users/Neo/Thinkful/qualified/Project_Flashcards_Qualified_1/src/Layout/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport NotFound from \"./NotFound\";\nimport { Switch, Route } from \"react-router-dom\";\nimport CreateDeckBtn from './home/CreateDeckBtn';\nimport Deck from \"./home/Deck\";\nimport { listDecks, deleteDeck } from \"../utils/api/index\";\nimport Study from \"./home/Study\";\nimport BreadCrumb from \"./BreadCrumb\";\n\nfunction Layout() {\n  let initialState = {\n    isNextBtnOn: false,\n    counter: 0,\n    sideToDisplay: \"\"\n  };\n  const [deck, setDeck] = useState([]);\n  const [studyDeck, setStudyDeck] = useState(undefined);\n  let [data, setData] = useState({ ...initialState\n  });\n  console.log(\"DATA\", data);\n  const fnObj = {\n    deleteHandler: function (event) {\n      if (window.confirm(\"Are you sure you want to delete this deck?\")) {\n        deleteDeck(event.target.id);\n        fnObj.deckFetcher();\n      }\n    },\n    deckFetcher: async function () {\n      const deckSet = await Promise.resolve(listDecks());\n      return setDeck(deckSet);\n    },\n    nextHandler: function () {\n      setData({\n        //[data.counter]: data.counter+=1, \n        [data.isNextBtnOn]: data.isNextBtnOn = false,\n        [data.sideToDisplay]: data.sideToDisplay = data.topic.cards[data.counter].front\n      });\n      return setData({ ...data\n      });\n    },\n    flipHandler: function () {\n      if (data.sideToDisplay === studyDeck.cards[data.counter].front) {\n        setData({\n          [data.sideToDisplay]: data.sideToDisplay = data.topic.cards[data.counter].back,\n          [data.isNextBtnOn]: data.isNextBtnOn = true\n        });\n        return setData({ ...data\n        });\n      }\n\n      if (data.sideToDisplay === studyDeck.cards[data.counter].back) {\n        setData({\n          [data.sideToDisplay]: data.sideToDisplay = data.topic.cards[data.counter].front\n        });\n        setData({ ...data\n        });\n        setData({\n          [data.isNextBtnOn]: data.isNextBtnOn = false\n        });\n        return setData({ ...data\n        });\n      }\n    },\n    studyDeckSetter: function (id) {\n      const card = deck.find(item => id == item.id);\n      setStudyDeck(card);\n\n      if (studyDeck !== undefined) {\n        setData({\n          [data.sideToDisplay]: data.sideToDisplay = studyDeck.cards[data.counter].front\n        });\n        setData({ ...data\n        });\n      }\n    }\n  };\n  console.log(data.counter); //console.log(\"TOPIC\", data.topic)\n  //console.log(\"DATA.DECK\", data.deck)\n\n  useEffect(() => {\n    fnObj.deckFetcher();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CreateDeckBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Deck, {\n    deck: deck,\n    data: data,\n    fnObj: fnObj,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/decks/:deckId/study\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(BreadCrumb, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Study, {\n    data: data,\n    fnObj: fnObj,\n    studyDeck: studyDeck,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(NotFound, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default Layout;","map":{"version":3,"sources":["/Users/Neo/Thinkful/qualified/Project_Flashcards_Qualified_1/src/Layout/index.js"],"names":["React","useState","useEffect","Header","NotFound","Switch","Route","CreateDeckBtn","Deck","listDecks","deleteDeck","Study","BreadCrumb","Layout","initialState","isNextBtnOn","counter","sideToDisplay","deck","setDeck","studyDeck","setStudyDeck","undefined","data","setData","console","log","fnObj","deleteHandler","event","window","confirm","target","id","deckFetcher","deckSet","Promise","resolve","nextHandler","topic","cards","front","flipHandler","back","studyDeckSetter","card","find","item"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport Header from \"./Header\";\nimport NotFound from \"./NotFound\";\nimport {Switch, Route} from \"react-router-dom\";\nimport CreateDeckBtn from './home/CreateDeckBtn'\nimport Deck from \"./home/Deck\"\nimport {listDecks, deleteDeck} from \"../utils/api/index\"\nimport Study from \"./home/Study\"\nimport BreadCrumb from \"./BreadCrumb\";\n\n\n\n\nfunction Layout() {\n\n\n  let initialState={\n    isNextBtnOn: false,\n    counter: 0,\n    sideToDisplay:\"\",\n  }\n  const [deck, setDeck] = useState([]);\n  const [studyDeck, setStudyDeck] = useState(undefined)\n\n  let [data, setData] = useState({...initialState})\n  console.log(\"DATA\", data)\n  \n  const fnObj={\n    deleteHandler: function(event){\n      if(window.confirm(\"Are you sure you want to delete this deck?\")){\n        deleteDeck(event.target.id);\n        fnObj.deckFetcher();\n      }\n    },\n    deckFetcher: async function(){\n      const deckSet = await Promise.resolve(listDecks());\n      return setDeck(deckSet);\n    },\n    nextHandler: function(){\n      setData({\n        //[data.counter]: data.counter+=1, \n        [data.isNextBtnOn]: data.isNextBtnOn=false,\n        [data.sideToDisplay]: data.sideToDisplay=data.topic.cards[data.counter].front\n      })\n      return setData({...data})\n    },\n    flipHandler: function(){\n      if(data.sideToDisplay===studyDeck.cards[data.counter].front){\n        setData({\n          [data.sideToDisplay]: data.sideToDisplay=data.topic.cards[data.counter].back,\n          [data.isNextBtnOn]: data.isNextBtnOn = true,\n        });\n        return setData({...data});   \n      }\n      if(data.sideToDisplay===studyDeck.cards[data.counter].back){\n        setData({\n          [data.sideToDisplay]: data.sideToDisplay=data.topic.cards[data.counter].front});\n          setData({...data});\n          setData({[data.isNextBtnOn]: data.isNextBtnOn = false});\n        return setData({...data});\n      }\n    },\n    studyDeckSetter: function(id){\n      const card = deck.find((item)=>id==item.id);\n      setStudyDeck(card);\n      if(studyDeck!==undefined){\n        setData({[data.sideToDisplay]: data.sideToDisplay=studyDeck.cards[data.counter].front});\n        setData({...data})\n      }\n    }\n  }\n  console.log(data.counter)\n  //console.log(\"TOPIC\", data.topic)\n\n  //console.log(\"DATA.DECK\", data.deck)\n\n  useEffect(()=>{\n   fnObj.deckFetcher();\n  }, [])\n\n  return (\n    <>\n      <Header />\n      <div className=\"container\">\n        <Switch>\n          <Route exact={true} path={\"/\"}>\n            <CreateDeckBtn />\n            <Deck \n              deck={deck} \n              data={data} \n              fnObj={fnObj} \n            />\n          </Route>\n          <Route exact={true} path={\"/decks/:deckId/study\"}>\n            <BreadCrumb data={data}/>\n            <Study \n              data={data} \n              fnObj={fnObj} \n              studyDeck={studyDeck}\n            />\n          </Route>\n          <Route>\n            <NotFound />\n          </Route>\n        </Switch> \n      </div>\n    </>\n  );\n}\n\nexport default Layout;"]},"metadata":{},"sourceType":"module"}