{"ast":null,"code":"var _jsxFileName = \"/Users/Neo/Thinkful/qualified/Project_Flashcards_Qualified_1/src/Layout/AddCard.js\";\nimport React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { listCards, fetchJson } from \"../utils/api/index\";\n\nfunction AddCard({\n  studyDeck,\n  fnObj,\n  addCardData,\n  setAddCardData\n}) {\n  let result = \"\";\n  let cardId = 0;\n  let allCards;\n  const url = `http://localhost:5000/cards`; // async function findAllCards(signal) {\n  //   const url = `http://localhost:5000/decks?_embed=cards`;\n  //   return await fetchJson(url, { signal });\n  // }\n\n  async function fetchJson(url, options) {\n    try {\n      const response = await fetch(url, options);\n\n      if (response.status < 200 || response.status > 399) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      if (error.name !== \"AbortError\") {\n        throw error;\n      }\n    }\n  }\n\n  const returned = fetchJson(url);\n  setTimeout(() => console.log(returned), 1000);\n\n  async function resolveThisPromise() {\n    allCards = Promise.resolve(returned);\n  }\n\n  resolveThisPromise();\n  console.log('ALL CARDS', allCards);\n\n  for (let card in studyDeck.cards) {\n    if (studyDeck.cards[card].id > cardId) {\n      cardId = studyDeck.cards[card].id;\n    }\n\n    ;\n  }\n\n  cardId += 1;\n  useEffect(() => {\n    setAddCardData({\n      [addCardData.deckId]: addCardData.deckId = studyDeck.id,\n      [addCardData.deckId]: addCardData.id = cardId\n    });\n    setAddCardData({ ...addCardData\n    });\n  }, []);\n  result = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, studyDeck.name, \": Add Card\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: fnObj.addCardSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Front:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"row\",\n    name: \"front\",\n    type: \"text\",\n    placeholder: \"Front side of card\",\n    onChange: fnObj.addCardFormChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"Back:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"row\",\n    width: \"100%\",\n    name: \"back\",\n    type: \"text\",\n    placeholder: \"Back side of card\",\n    onChange: fnObj.addCardFormChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"btn btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Done\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary mx-5\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Save\"))));\n  return result;\n}\n\nexport default AddCard;","map":{"version":3,"sources":["/Users/Neo/Thinkful/qualified/Project_Flashcards_Qualified_1/src/Layout/AddCard.js"],"names":["React","useEffect","Link","listCards","fetchJson","AddCard","studyDeck","fnObj","addCardData","setAddCardData","result","cardId","allCards","url","options","response","fetch","status","Error","statusText","json","error","name","returned","setTimeout","console","log","resolveThisPromise","Promise","resolve","card","cards","id","deckId","addCardSubmitHandler","addCardFormChangeHandler"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\"\nimport {Link} from \"react-router-dom\"\nimport {listCards, fetchJson} from \"../utils/api/index\"\n\n\nfunction AddCard({studyDeck, fnObj, addCardData, setAddCardData}){\n  let result=\"\";\n  let cardId=0;\n  let allCards\n  const url = `http://localhost:5000/cards`;\n\n  // async function findAllCards(signal) {\n  //   const url = `http://localhost:5000/decks?_embed=cards`;\n  //   return await fetchJson(url, { signal });\n  // }\n  async function fetchJson(url, options) {\n    try {\n      const response = await fetch(url, options);\n      if (response.status < 200 || response.status > 399) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n      return await response.json();\n    } catch (error) {\n      if (error.name !== \"AbortError\") {\n        throw error;\n      }\n    }\n  }\n  const returned = fetchJson(url);\n  setTimeout(() =>console.log(returned), 1000)\n  async function resolveThisPromise(){\n    allCards =  Promise.resolve(returned);\n  }\n  resolveThisPromise();\n\n  console.log('ALL CARDS', allCards)\n\n  for(let card in studyDeck.cards){\n    if(studyDeck.cards[card].id>cardId){cardId=studyDeck.cards[card].id};\n  }\n  cardId+=1;\n\n\n  useEffect(()=> { \n    setAddCardData({\n      [addCardData.deckId]: addCardData.deckId=studyDeck.id,\n      [addCardData.deckId]: addCardData.id=cardId,\n    }); \n    setAddCardData({...addCardData})\n  }, [])\n\n  result=(\n    <div className=\"container\">\n      <div className=\"row\">\n        <h3>{studyDeck.name}: Add Card</h3>\n      </div>\n      <form onSubmit={fnObj.addCardSubmitHandler}>\n        <label>\n          <h5 className=\"row\">Front:</h5>\n          <textarea \n            className=\"row\" \n            name=\"front\"\n            type=\"text\"\n            placeholder=\"Front side of card\"\n            onChange={fnObj.addCardFormChangeHandler}\n          />\n          <h5 className=\"row\">Back:</h5>\n          <textarea\n            className=\"row\"\n            width=\"100%\"\n            name=\"back\"\n            type=\"text\"\n            placeholder=\"Back side of card\"\n            onChange={fnObj.addCardFormChangeHandler}\n          />\n        </label>\n        <div className=\"row\">\n          <Link to={\"/\"} className=\"btn btn-secondary\">Done</Link>\n          <button className=\"btn btn-primary mx-5\" type=\"submit\">Save</button>\n        </div>\n      </form>\n    </div>\n  )\n\n\n  return result;\n}\n\nexport default AddCard;"]},"metadata":{},"sourceType":"module"}